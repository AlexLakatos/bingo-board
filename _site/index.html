<!DOCTYPE html>
<html>
  <head>
    <link rel='stylesheet' href='/css/main.css'>
  </head>

  <body>
    <div class="wrapper">
  <a href="/board.html">Set up your a bingo board</a>

  <ul class="numbers js-numbers">
  </ul>
</div>

<script type="text/javascript">
  numbers = ""
  var list = document.querySelector('.js-numbers')
  var memorizedList = localStorage.getItem('numbers') ? localStorage.getItem('numbers').split(',') : []
  var currentNumbers = numbers.split(',').filter(function (no) { return !!no })
  var newNumbers = []

  currentNumbers.forEach(function(no) {
    if(memorizedList.indexOf(no) < 0) {
      newNumbers.push(no)
      memorizedList.push(no)
    }
  })

  localStorage.setItem('numbers', memorizedList)

  memorizedList.reverse().forEach(function (no) {
    if(no === 'null') return
    var li = document.createElement('li')
    li.innerText = no
    if(newNumbers.indexOf(no) >= 0) {
      li.classList.add('is-new')
    }
    list.appendChild(li)
  })

  setTimeout(function () {
    window.location.reload()
  }, 10000)
</script>

  </body>

</html>
